# ********** Common Properties ****************
server.port = 8081
server.servlet.context-path = /ida/v0.1
logging.level.root=info
logging.level.org.springframework.web.filter.CommonsRequestLoggingFilter=off
application.id=IDA
application.name=ID-Authentication
otprequest.received-time-allowed.in-minutes=20
authrequest.received-time-allowed.minutes=30

# *********** Otp Flooding ************
otp.request.flooding.duration=1
otp.request.flooding.max-count=3

requestdate.received.in.max.time.mins=20

# ID-Authentication Mapping json configurations
ida.mapping.json.filename=ida-mapping.json 
ida.mapping.property.source=classpath:${ida.mapping.json.filename} 


# ************* MySql Properties ************************
#javax.persistence.jdbc.driver=com.mysql.jdbc.Driver
#javax.persistence.jdbc.url=jdbc:mysql://localhost:3306/preenrollment?createDatabaseIfNotExist=true 
#javax.persistence.jdbc.user=root
#javax.persistence.jdbc.password=admin

# ************ Hibernate MySql Dialect ************
#hibernate.dialect=org.hibernate.dialect.MySQL5Dialect

# ***************** Postgres Properties ***********************
javax.persistence.jdbc.driver=org.postgresql.Driver
javax.persistence.jdbc.url=jdbc:postgresql://localhost:5432/ida_db
javax.persistence.jdbc.user=postgres
javax.persistence.jdbc.password=admin

# ************ Hibernate Postgres Dialect ************
hibernate.dialect=org.hibernate.dialect.PostgreSQL95Dialect

# *********** Hibernate Properties *************
hibernate.jdbc.lob.non_contextual_creation=true
hibernate.hbm2ddl.auto=update
hibernate.show_sql=false
hibernate.format_sql=false
hibernate.connection.charSet=utf8
hibernate.cache.use_second_level_cache=false
hibernate.cache.use_query_cache=false
hibernate.cache.use_structured_entries=false
hibernate.generate_statistics=false
spring.datasource.initialization-mode=always 

#********Demo Default properties******
demo.threshold=60
fgrmin.single.threshold=300
fgrimg.single.threshold=60
fgrmin.composite.threshold=600
irisimg.single.threshold=60
irisimg.composite.threshold=120

ida.uin.salt.modulo=1000


#**** Sample Iris Match Scores (Used to provide match score in place of SDK)****
evenuin.irisimg.left.match.value=80
evenuin.irisimg.right.match.value=50

odduin.irisimg.left.match.value=40
odduin.irisimg.right.match.value=70

evenuin.faceimg.match.value=80
odduin.faceimg.match.value=40



dob.date.time.pattern=yyyy-MM-dd

##### log.properties #####
# Required for RestUtilTest and AuditFactory test
# LOG4J configuration
log4j.rootLogger=DEBUG, Appender

log4j.appender.Appender=org.apache.log4j.RollingFileAppender
log4j.appender.Appender.file= logs
log4j.appender.Appender.filePattern=logs/id-usage-service-%d{yyyy-MM-dd-HH-mm}-%i.log
#log4j.appender.Appender.layout=org.apache.log4j.PatternLayout
#log4j.appender.Appender.layout.ConversionPattern = %d{yyyy-MM-dd HH:mm:ss.SSS} %level [%t] [%c] [%M] [%l] - %msg%n

log4j.appender.Appender.maxFileSize=1MB
log4j.appender.Appender.totalCap=10MB
#log4j.appender.Appender.maxBackupIndex=10

#####################################################################################################################
##### rest-services.properties #####
requestdate.received.in.max.time=100
#==============================================
# ************** Audit ************************
#==============================================
## Dont change this url as it is a mock url for restHelperTest class
audit.rest.uri=http://127.0.0.1:8082/auditmanager/audits
audit.rest.httpMethod=POST
audit.rest.headers.mediaType=application/json
#In seconds
audit.rest.timeout=100

#OTP_Validator
otp-validate.rest.uri=http://localhost:8080/otpmanager/otps
otp-validate.rest.httpMethod=GET
otp-validate.rest.headers.mediaType=application/json
otp-validate.rest.timeout=100


#Template Master Data
#Single language 
id-masterdata-template-service.rest.httpMethod=GET
id-masterdata-template-service.rest.headers.mediaType=application/json
id-masterdata-template-service.rest.timeout=1000
id-masterdata-template-service.rest.uri=https://integ.mosip.io/masterdata/v1.0/templates/{langcode}/{templatetypecode}

#Multi language 
id-masterdata-template-service-multilang.rest.httpMethod=GET
id-masterdata-template-service-multilang.rest.headers.mediaType=application/json
id-masterdata-template-service-multilang.rest.timeout=1000
id-masterdata-template-service-multilang.rest.uri=https://integ.mosip.io/masterdata/v1.0/templates/templatetypecodes/{code}


#=============================================
# ******** OTP Generator *********************
#=============================================
otp-generate.rest.uri=http://localhost:8080/otpmanager/otps
otp-generate.rest.httpMethod=POST
otp-generate.rest.headers.mediaType=application/json
otp-generate.rest.timeout=100


#=============================================
# ******** eKYC Mail Notification *********************
#=============================================
mail-notification.rest.uri=https://integ.mosip.io/emailnotifier/v1.0/email/send
mail-notification.rest.httpMethod=POST
mail-notification.rest.headers.mediaType=multipart/form-data
mail-notification.rest.timeout=1000
#=============================================
# ******** eKYC SMS Notification *********************
#=============================================
sms-notification.rest.uri=http://104.211.214.143:8084/notifier/sms
sms-notification.rest.httpMethod=POST
sms-notification.rest.headers.mediaType=application/json
sms-notification.rest.timeout=1000

# Language Code
mosip.errormessages.default-lang=en
mosip.primary-language=ara
mosip.secondary-language=fra

#************ E-KYC********
ekyc.auth.types.allowed=otp,bio,pin

# *********** eKyc *****************
ekyc.ttl.hours=24

# *********** Mail Configuration *****************
mosip.auth.mail.content.template=auth-email-content-template.txt
mosip.auth.mail.subject.template=auth-email-subject-template.txt
mosip.otp.mail.content.template=otp-email-content-template.txt
mosip.otp.mail.subject.template=otp-email-subject-template.txt

# *********** SMS Configuration *****************
mosip.auth.sms.template=auth-sms-template.txt
mosip.otp.sms.template=otp-sms-template.txt

#**************** Notification Type *************
mosip.notificationtype=SMS|EMAIL

#********* OTP Expiring Time *********
mosip.kernel.otp.expiry-time=3

#*************** Notification Date/time Format **********
notification.date.format=dd-MM-yyyy
notification.time.format=HH:mm:ss

#********** Email Properties *************
mosip.kernel.email.max-length=50
mosip.kernel.email.min-length=7
mosip.kernel.email.special-char=!#$%&'*+-/=?^_`{|}~.
mosip.kernel.email.domain.ext-min-lenght=2
mosip.kernel.email.domain.ext-max-lenght=7
mosip.kernel.email.domain.special-char=-

#*********** Phone Properties ***********
mosip.kernel.phone.max-length=15
mosip.kernel.phone.min-length=9
mosip.kernel.phone.special-char=+ -
#********* Internal Auth Type *********
internal.auth.types.allowed=demo,otp,bio,bio-Face,bio-Finger,bio-Iris,FMR

mosip.kernel.crypto.asymmetric-algorithm-name=RSA
mosip.kernel.crypto.symmetric-algorithm-name=AES

#********* Store Private Key *********
sample.privatekey.filepath={0}\Private_key

#********* KEY SPLITTER*********
mosip.kernel.data-key-splitter=#KEY_SPLITTER#
mosip.supported-languages=eng,ara,fra

#---------------- DOB date pattern -------------------
dob.req.date.pattern=dd/MM/yyyy
dob.entity.date.pattern=yyyy/MM/dd
datetime.pattern=yyyy-MM-dd'T'HH:mm:ss.SSSXXX

#----------------------------------VID------------------------------------------
mosip.vid.validity.hours=24

#----------------------------------IDRepo Status------------------------------------------
mosip.kernel.idrepo.status.registered=ACTIVATED

#*********** Template Language Specification *****************
# Notification lanugage types - either PRIMARY or BOTH
mosip.notification.language-type=both

# Gender Type Service rest api-GET
id-masterdata-gender-service.rest.uri=https://integ.mosip.io/masterdata/v1.0/gendertypes
id-masterdata-gender-service.rest.httpMethod=GET
id-masterdata-gender-service.rest.headers.mediaType=application/json
id-masterdata-gender-service.rest.timeout=100

# Title Service rest api-GET
id-masterdata-title-service.rest.uri=https://integ.mosip.io/masterdata/v1.0/title
id-masterdata-title-service.rest.httpMethod=GET
id-masterdata-title-service.rest.headers.mediaType=application/json
id-masterdata-title-service.rest.timeout=100

#------ Static Token Configuration ---------------
static.token.enable=false

# -----------------AuthType Enable----------------------
auth.types.allowed=demo,otp,bio,bio-Face,bio-Finger,bio-Iris,FMR

mosip.ida.api.ids.auth=mosip.identity.auth

#***********Certificate type************
mosip.jws.certificate.type=X.509
mosip.jws.certificate.organization=Mindtree Limited
mosip.jws.certificate.algo=RS256


#-------Mocking of License Key and MISP------------
licenseKey.735899345 ={ "mispId": "5479834598", "expiryDt": "2031-03-07T12:58:41.762Z", "status": "active" }
licenseKey.629877671 ={ "mispId": "9870862555", "expiryDt": "2031-03-07T12:58:41.762Z", "status": "active" }

licenseKey.635899234={"mispId" :"5479834983","expiryDt":"2031-03-07T12:58:41.762Z","status":"inactive"}
licenseKey.135898653={"mispId":"5479833455","expiryDt":"2019-03-07T12:58:41.762Z","status":"active"}

#-------Mocking of Policy Id------------
policy.92834787293={ "policies": { "authPolicies": [{ "authType": "otp", "mandatory": true }, { "authType": "pin", "mandatory": false }, { "authType": "bio", "authSubType": "FINGER", "mandatory": true }, { "authType": "bio", "authSubType": "IRIS", "mandatory": false }, { "authType": "bio", "authSubType": "FACE", "mandatory": false }, { "authType": "otp-request", "mandatory": false }], "allowedKycAttributes": [{ "attributeName": "UIN", "required": false, "masked": true }, { "attributeName": "fullName", "required": true }, { "attributeName": "dateOfBirth", "required": true }, { "attributeName": "gender", "required": true }, { "attributeName": "phone", "required": true }, { "attributeName": "email", "required": true }, { "attributeName": "addressLine1", "required": true }, { "attributeName": "addressLine2", "required": true }, { "attributeName": "addressLine3", "required": true }, { "attributeName": "region", "required": true }, { "attributeName": "province", "required": true }, { "attributeName": "city", "required": true }, { "attributeName": "postalCode", "required": false }, { "attributeName": "photo", "required": true }] } }
policy.9903348702934={ "policies": { "authPolicies": [ { "authType": "otp", "mandatory": false }, { "authType": "pin", "mandatory": false }, { "authType": "bio", "authSubType": "FINGER", "mandatory": true }, { "authType": "bio", "authSubType": "IRIS", "mandatory": false }, { "authType": "bio", "authSubType": "FACE", "mandatory": false } ], "allowedKycAttributes": [ { "attributeName": "UIN", "required": false, "masked": true }, { "attributeName": "fullName", "required": true }, { "attributeName": "dateOfBirth", "required": true }, { "attributeName": "gender", "required": true }, { "attributeName": "phone", "required": true }, { "attributeName": "email", "required": true }, { "attributeName": "addressLine1", "required": true }, { "attributeName": "addressLine2", "required": true }, { "attributeName": "addressLine3", "required": true }, { "attributeName": "region", "required": true }, { "attributeName": "province", "required": true }, { "attributeName": "city", "required": true }, { "attributeName": "postalCode", "required": false }, { "attributeName": "photo", "required": true } ] } }
policy.0983222={ "policies": { "authPolicies": [ { "authType": "otp", "mandatory": true }, { "authType": "pin", "mandatory": true }, { "authType": "bio", "authSubType": "FINGER", "mandatory": false }, { "authType": "bio", "authSubType": "IRIS", "mandatory": false }, { "authType": "bio", "authSubType": "FACE", "mandatory": false } ], "allowedKycAttributes": [ { "attributeName": "UIN", "required": false, "masked": true }, { "attributeName": "fullName", "required": true }, { "attributeName": "dateOfBirth", "required": true }, { "attributeName": "gender", "required": true }, { "attributeName": "phone", "required": true }, { "attributeName": "email", "required": true }, { "attributeName": "addressLine1", "required": true }, { "attributeName": "addressLine2", "required": true }, { "attributeName": "addressLine3", "required": true }, { "attributeName": "region", "required": true }, { "attributeName": "province", "required": true }, { "attributeName": "city", "required": true }, { "attributeName": "postalCode", "required": false }, { "attributeName": "photo", "required": true } ] } }
policy.0983252={ "policies": { "authPolicies": [ { "authType": "demo", "mandatory": true }, { "authType": "pin", "mandatory": false }, { "authType": "bio", "authSubType": "FINGER", "mandatory": false }, { "authType": "bio", "authSubType": "IRIS", "mandatory": false }, { "authType": "bio", "authSubType": "FACE", "mandatory": false } ], "allowedKycAttributes": [ { "attributeName": "UIN", "required": false, "masked": true }, { "attributeName": "fullName", "required": true }, { "attributeName": "dateOfBirth", "required": true }, { "attributeName": "gender", "required": true }, { "attributeName": "phone", "required": true }, { "attributeName": "email", "required": true }, { "attributeName": "addressLine1", "required": true }, { "attributeName": "addressLine2", "required": true }, { "attributeName": "addressLine3", "required": true }, { "attributeName": "region", "required": true }, { "attributeName": "province", "required": true }, { "attributeName": "city", "required": true }, { "attributeName": "postalCode", "required": false }, { "attributeName": "photo", "required": true } ] } }
policy.0983754={ "policies": { "authPolicies": [ { "authType": "demo", "mandatory": true }, { "authType": "bio", "authSubType": "FINGER", "mandatory": false }, { "authType": "bio", "authSubType": "IRIS", "mandatory": false }, { "authType": "bio", "authSubType": "FACE", "mandatory": false } ], "allowedKycAttributes": [ { "attributeName": "UIN", "required": false, "masked": true }, { "attributeName": "fullName", "required": true }, { "attributeName": "dateOfBirth", "required": true }, { "attributeName": "gender", "required": true }, { "attributeName": "phone", "required": true }, { "attributeName": "email", "required": true }, { "attributeName": "addressLine1", "required": true }, { "attributeName": "addressLine2", "required": true }, { "attributeName": "addressLine3", "required": true }, { "attributeName": "region", "required": true }, { "attributeName": "province", "required": true }, { "attributeName": "city", "required": true }, { "attributeName": "postalCode", "required": false }, { "attributeName": "photo", "required": true } ] } }
policy.0123456={ "policies": { "authPolicies": [ { "authType": "demo", "mandatory": true },{ "authType": "otp", "mandatory": true }], "allowedKycAttributes": [ { "attributeName": "UIN", "required": false, "masked": true }, { "attributeName": "fullName", "required": true }, { "attributeName": "dateOfBirth", "required": true }, { "attributeName": "gender", "required": true }, { "attributeName": "phone", "required": true }, { "attributeName": "email", "required": true }, { "attributeName": "addressLine1", "required": true }, { "attributeName": "addressLine2", "required": true }, { "attributeName": "addressLine3", "required": true }, { "attributeName": "region", "required": true }, { "attributeName": "province", "required": true }, { "attributeName": "city", "required": true }, { "attributeName": "postalCode", "required": false }, { "attributeName": "photo", "required": true } ] } }
#-------Mocking of Partner Id------------
partner.1873299273={"policyId":"92834787293","status":"active"}
partner.1873299300={"policyId":"92834787293","status":"active"}

partner.1873299776={"policyId":"9903348702934","status":"active"}
partner.1873293764={"policyId":"9903348702934","status":"inactive"}
partner.18248239994={"policyId":"","status":"active"}

#-------Mocking of MISP-Partner Mapping------------
misp.partner.mapping.5479834598.1873299273=true
misp.partner.mapping.9870862555.1873299300=false

#--------pattern for Phone and Email-------------
mosip.id.validation.identity.phone=^([6-9]{1})([0-9]{9})$
mosip.id.validation.identity.email=^[\\w-\\+]+(\\.[\\w]+)*@[\\w-]+(\\.[\\w]+)*(\\.[a-z]{2,})$

#-------Config for UIN/VID-------------
request.idtypes.allowed=VID,UIN

mosip.kernel.otp.default-length=6

#iam adapter
# The MOSIP public URL passed as environment variable "mosipbox_public_url"
domain.url=dev.mosip.net
mosipbox.public.url=https://${domain.url}

##################### Dynamic Properties - this may change for different deployemnts ##############################
# Database hostname
mosip.ida.database.hostname=${domain.url}
# Database port
mosip.ida.database.port=30090
# Database user
mosip.ida.database.user=idauser
# Database password
mosip.ida.database.password=mosip123
# Kernel auth client ID for IDA
mosip.ida.auth.clientId=mosip-ida-client
# Kernel auth secret key for IDA
mosip.ida.auth.secretKey=abc123
# Kernel auth application ID for IDA
mosip.ida.auth.appId=ida


######################## Spring and Hibernate Configurations ####################
# ***************** Postgres Properties ***********************
javax.persistence.jdbc.driverClassName=org.postgresql.Driver
javax.persistence.jdbc.driver=org.postgresql.Driver
javax.persistence.jdbc.url=jdbc:postgresql://${mosip.ida.database.hostname}:${mosip.ida.database.port}/mosip_ida
javax.persistence.jdbc.user=${mosip.ida.database.user}
javax.persistence.jdbc.username=${mosip.ida.database.user}
javax.persistence.jdbc.password=${mosip.ida.database.password}
javax.persistence.jdbc.schema=ida
javax.persistence.jdbc.uinHashTable=uin_hash_salt
javax.persistence.jdbc.uinEncryptTable=uin_encrypt_salt

hibernate.temp.use_jdbc_metadata_defaults=false
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

log4j.logger.org.hibernate=warn


######################### ID-Authentication Application Configurations ##############
# The Online Verification partner ID associated to the IDA instance.
# This is used to subscribe to the credential issuance event notification sent by credential service.
# for the particular Online Verification partner.
# This credential issueance notification is handled inside Internal Authentication module.
# The credentials issued to the partner will be as per the data-share policy associated to the partner.
# TO DO: Change the property key to online-verification-partner-id
ida-auth-partner-id=mpartner-default-auth

partner.reference.id=PARTNER
# Reference ID used for crypto manager in internal authentication (for request body)
internal.reference.id=INTERNAL
# Reference ID used for crypto manager in authentication for biometrics
# TO DO: Value to be Changed to IDA-BIO
partner.biometric.reference.id=IDA-FIR
# Reference ID used for crypto manager in internal authentication for biometrics
internal.biometric.reference.id=INTERNAL

# Reference ID for Identity Cache data encryption
identity-cache.reference.id=IDENTITY_CACHE
# Application id for signing key
mosip.sign.applicationid=${application.id}
# Reference id for signing key
mosip.sign.refid=SIGN

# Kernel Symmetric Key decryption bytes count for AAD
ida.aad.lastbytes.num=16
# Kernel Symmetric Key decryption bytes count for Salt
ida.salt.lastbytes.num=12

# Request timeout used across all REST API calls in IDA
mosip.ida.request.timeout.secs=10
# Common JSON media type used across all REST API calls in IDA
mosip.ida.request.mediaType=application/json

#*** ID-Authentication Mapping json configurations ***
# IDA Mapping JSON file name
# IDA Mapping JSON file URI
mosip.ida.mapping.json-uri=https://dev.mosip.net/config/id-authentication/mz/develop/identity-mapping.json
# IDA Mapping JSON file property source

#-----Websub configurations------
# Secret for auth type status update callback
ida-websub-authtype-callback-secret=Kslk30SNF2AChs2
# Secret for credtial issueance callback
ida-websub-credential-issue-callback-secret=Kslk30SNF2AChs2
# Secret for credtial issueance callback
ida-websub-partner-service-callback-secret=Kslk30SNF2AChs2
# Secret for partner CA certification upload callback
ida-websub-ca-certificate-callback-secret=Kslk30SNF2AChs2
# Secret for partner CA certification upload callback
ida-websub-hotlist-callback-secret=Kslk30SNF2AChs2
ida-websub-masterdata-templates-callback-secret=Kslk30SNF2AChs2
ida-websub-masterdata-titles-callback-secret=Kslk30SNF2AChs2
application.base.url=${mosipbox.public.url}
# Callback url for auth type status update event notification
ida-websub-auth-type-callback-url=${application.base.url}/idauthentication/v1/internal/callback/authTypeCallback/{partnerId}
# Callback url for credential issueance event notification, including id remove/deactivate/activate events
ida-websub-credential-issue-callback-url=${application.base.url}/idauthentication/v1/internal/callback/idchange/{eventType}/{partnerId}
# Callback url for MISP/Partner change notification events
ida-websub-partner-service-callback-url=${application.base.url}${server.servlet.context-path}/callback/partnermanagement/{eventType}
# Callback url for partner CA certification upload event
ida-websub-ca-cert-callback-url=${application.base.url}${server.servlet.context-path}/callback/partnermanagement/ca_certificate
# Callback url for hotlist event
ida-websub-hotlist-callback-url=${application.base.url}${server.servlet.context-path}/callback/hotlist
ida-websub-masterdata-templates-callback-url=${application.base.url}${server.servlet.context-path}/callback/masterdata/templates
ida-websub-masterdata-titles-callback-url=${application.base.url}${server.servlet.context-path}/callback/masterdata/titles

#Delay (in milliseconds) for subscription on application startup to avoid failure during intent verification by hub.
subscriptions-delay-on-startup_millisecs=1000
#Delay (in milliseconds) after initial topic subscriptions (after subscriptions-delay-on-startup_millisecs) to invoke retriggering of missing credential issuances.
delay-to-pull-missing-credential-after-topic-subscription_millisecs=1000

# The time interval in seconds to schedule subscription of topics which is done as a
# work-around for the bug: MOSIP-9496. By default the
# this property value is set to 0 that disables this workaround.
# To enable the resubscrition scheduling, this property should be assigned with a positive
# number like 1 * 60 * 60 = 3600 for one hour
ida-websub-resubscription-delay-secs=43200

#------ Web sub Event Topis used in IDA  ---
# Topic for Auth Type Status Update Event
ida-topic-auth-type-status-updated=${ida-auth-partner-id}/AUTH_TYPE_STATUS_UPDATE
# Topic for Credential Issueance Event (for UIN/VID create/update events)
ida-topic-credential-issued=${ida-auth-partner-id}/CREDENTIAL_ISSUED
# Topic for ID Remove Event (UIN blocked / VID revoked events)
ida-topic-remove-id=${ida-auth-partner-id}/REMOVE_ID
# Topic for ID Deactivate Event (UIN/VID deactivate events)
ida-topic-deactivate-id=${ida-auth-partner-id}/DEACTIVATE_ID
# Topic for ID Activate Event (UIN/VID activate events)
ida-topic-activate-id=${ida-auth-partner-id}/ACTIVATE_ID
# Topic for Fraud analysis Event
ida-topic-fraud-analysis=IDA_FRAUD_ANALYTICS

# Topic for MISP license generated event
ida-topic-pmp-misp-license-generated=MISP_LICENSE_GENERATED
# Topic for MISP update event
ida-topic-pmp-misp-updated=MISP_UPDATED
ida-topic-pmp-misp-license-updated=MISP_LICENSE_UPDATED
# Topic for API key approved event
ida-topic-pmp-partner-api-key-approved=APIKEY_APPROVED
# Topic for Partner update event
ida-topic-pmp-partner-updated=PARTNER_UPDATED
# Topic for Partner API Key update event
ida-topic-pmp-partner-api-key-updated=APIKEY_UPDATED
# Topic for Policy update event
ida-topic-pmp-policy-updated=POLICY_UPDATED
# Topic for Partner CA Certificate Upload event
ida-topic-pmp-ca-certificate-uploaded=CA_CERTIFICATE_UPLOADED

# Topic for Hotlisting event
ida-topic-hotlist=MOSIP_HOTLIST
ida-topic-credential-status-update=CREDENTIAL_STATUS_UPDATE
ida-topic-auth-type-status-update-acknowledge=AUTH_TYPE_STATUS_UPDATE_ACK
ida-topic-auth-transaction-status=AUTHENTICATION_TRANSACTION_STATUS

ida-topic-masterdata-templates=masterdata/idauthentication_templates
ida-topic-masterdata-titles=masterdata/titles
#-----------------------

#**************IDA cache properties**************
# IDA cache Time to live in days - To clear cache scheduled based on the days provided.
# value <= 0 means cache clearing based on schedule is disabled.
ida-cache-ttl-in-days=1

# To disable cache, set value to NONE, otherwise SIMPLE to enable cache.
# Value is based on CacheType enum provided by Spring Boot
spring.cache.type=SIMPLE


#**************** IDA DEMO NORMALISATION  common*************
# Note: the common normalization attributes will be replaced at the end.
# Special characters are removed : . , - * ( ) [ ] ` ' / \ # "
ida.demo.common.normalization.regex.any[0]=[\\.|,|\\-|\\*|\\(|\\)|\\[|\\]|`|\\'|/|\\|#|\"]
# Trailing space is removed from property. As a workaround first replacing with " ." then removing the "."
ida.demo.common.normalization.regex.any[1]=\\s+${ida.norm.sep} .
ida.demo.common.normalization.regex.any[2]=\\.${ida.norm.sep}

# Configuration for +/- time period adjustment in minutes for the request time validation, so that
# The requests originating from a system that is not in time-sync will be accepted for the time period
authrequest.received-time-adjustment.minutes=5

# Language Code
ida.errormessages.default-lang=en


#------------- Notification message template names Configuration ----------------
## Mail Message template names
# Authenticaiton notification email template
ida.auth.mail.content.template=auth-email-content
ida.auth.mail.subject.template=auth-email-subject

# OTP notification email template
ida.otp.mail.content.template=ida-auth-otp-email-content-template
ida.otp.mail.subject.template=ida-auth-otp-email-subject-template

## SMS template names
# Authenticaiton notification SMS template
ida.auth.sms.template=auth-sms
# OTP notification SMS template
ida.otp.sms.template=ida-auth-otp-sms-template
#---------------------------------------------------------------------------------

# UIN/VID Masking to be done on SMS/EMAIL notification
#Configure the no of digits to be masked while masking UIN/VID.
#For example if UIN is 1234567890 and mask count is 6, masked UIN will be: XXXXXX7890
notification.uin.masking.charcount=8



#---------------- Allowed IdTypes for hotlisting -------------------
mosip.ida.internal.hotlist.idtypes.allowed=UIN,VID,PARTNER_ID,DEVICE



mosip.kernel.keymanager.certificate.default.common-name=www.mosip.io
mosip.kernel.keymanager.hsm.config-path=
mosip.kernel.keymanager.hsm.keystore-type=OFFLINE
mosip.kernel.keymanager.hsm.keystore-pass=


#----------Security Properties - used in Internal Authentication Services by default Kernel Auth Adapter------------------
# CSRF switch
mosip.security.csrf-enable=false

# CORS switch
mosip.security.cors-enable=false

# Comma separated allowed origins
mosip.security.origins=localhost:8080

# Secure cookie switch
mosip.security.secure-cookie=false

#------------- Key-manager properties -------------------------
# ROOT key identifier
mosip.root.key.applicationid=ROOT

# Certificate signing algorithm
mosip.kernel.certificate.sign.algorithm=SHA256withRSA

# Default certificate params
mosip.kernel.keymanager.certificate.default.organizational-unit=MOSIP-TECH-CENTER
mosip.kernel.keymanager.certificate.default.organization=IITB
mosip.kernel.keymanager.certificate.default.location=BANGALORE
mosip.kernel.keymanager.certificate.default.state=KA
mosip.kernel.keymanager.certificate.default.country=IN

# Zero Knowledge Master & Public Key identifier.
mosip.kernel.zkcrypto.masterkey.application.id=${application.id}
mosip.kernel.zkcrypto.masterkey.reference.id=${identity-cache.reference.id}
mosip.kernel.zkcrypto.publickey.application.id=${application.id}
mosip.kernel.zkcrypto.publickey.reference.id=CRED_SERVICE
mosip.kernel.zkcrypto.wrap.algorithm-name=AES/ECB/NoPadding
mosip.kernel.zkcrypto.derive.encrypt.algorithm-name=AES/ECB/PKCS5Padding

# Application Id for PMS master key.
mosip.kernel.partner.sign.masterkey.application.id=PMS


#---------------------------------kernel Salt Generator---------------------------------------------------#
mosip.kernel.salt-generator.db.key-alias=javax.persistence.jdbc
mosip.kernel.salt-generator.schemaName=${javax.persistence.jdbc.schema}
#----------------------------------------------------------------------------------------------------------#

#--------------------------------TokenId generator---------------------------------------------------#
mosip.kernel.tokenid.uin.salt=zHuDEAbmbxiUbUShgy6pwUhKh9DE0EZn9kQDKPPKbWscGajMwf
mosip.kernel.tokenid.partnercode.salt=yS8w5Wb6vhIKdf1msi4LYTJks7mqkbmITk2O63Iq8h0bkRlD0d
#----------------------------------------------------------------------------------------------------#

# Partner Management Service allowed partner domains
mosip.kernel.partner.allowed.domains=AUTH,DEVICE,FTM

######################### IDA Key Generator configurations #############################
keymanager.persistence.jdbc.driver=org.postgresql.Driver
keymanager_database_url=jdbc:postgresql://${mosip.ida.database.hostname}:${mosip.ida.database.port}/mosip_ida
keymanager_database_username=${mosip.ida.database.user}
keymanager_database_password=abc123
mosip.kernel.keymanager.autogen.appids.list=ROOT,${application.id},${mosip.sign.applicationid}:${mosip.sign.refid},${application.id}:${mosip.kernel.zkcrypto.masterkey.reference.id}
mosip.kernel.keymanager.autogen.basekeys.list=${application.id}:${internal.reference.id},${application.id}:${partner.reference.id},${application.id}:${partner.biometric.reference.id},${application.id}:${mosip.kernel.zkcrypto.publickey.reference.id},${application.id}:${ida-auth-partner-id}
zkcrypto.random.key.generate.count=0

keymanager.persistence.jdbc.schema=ida
#########################################################################################


mosip.location.profile.attribute.name=locationHierarchyForProfiling
mosip.preferred.language.attribute.name=preferredLanguage
ida-topic-auth-anonymous-profile=ANONYMOUS_PROFILE
#----------------------------Auth Filters ----------------------------------#
# Comma Seperated list of fully qualified classes of the auth filters in the order in which they have to be executed.
# If validation with one filter fails with an error, the rest of the filter in the sequence will be skipped
# and error will be returned in the auth response.

#Auth Filters for external auth
ida.mosip.external.auth.filter.classes.in.execution.order=io.mosip.authentication.hotlistfilter.impl.PartnerIdHotlistFilterImpl,io.mosip.authentication.hotlistfilter.impl.IndividualIdHotlistFilterImpl,io.mosip.authentication.hotlistfilter.impl.DeviceProviderHotlistFilterImpl,io.mosip.authentication.hotlistfilter.impl.DeviceHotlistFilterImpl,io.mosip.authentication.childauthfilter.impl.ChildAuthFilterImpl,io.mosip.authentication.authtypelockfilter.impl.AuthTypeLockFilterImpl
#Auth Filters for internal auth
ida.mosip.internal.auth.filter.classes.in.execution.order=



# Child Auth Filter configurations
ida.child-auth-filter.child.max.age=5
ida.child-auth-filter.factors.denied=otp,bio

mosip.iam.adapter.clientid=mosip-ida-client
mosip.iam.adapter.clientsecret=abc123
mosip.iam.adapter.appid=ida
mosip.authmanager.base-url=https://dev.mosip.net/v1/authmanager
mosip.authmanager.client-token-endpoint=${mosip.authmanager.base-url}/authenticate/clientidsecretkey


# The target enviornment. This values should be comma separted.
#Ex.Staging,Developer
mosip.ida.allowed.enviromemnts=Staging,Developer,Pre-Production,Production

# Allowed domain Uris. This values should be comma separted.
#Ex. https://dev.mosip.net,https://qa2.mosip.net
mosip.ida.allowed.domain.uris=${mosipbox.public.url}
#----------------------- CBEFF Util--------------------------------------------------
# Cbeff URL where the files will be stored in git, change it accordingly in case of change of storage location.
# Cbeff XSD file name in config server
mosip.kernel.xsdstorage-uri=https://dev.mosip.net/config/id-authentication/mz/develop/
mosip.kernel.xsdfile=mosip-cbeff.xsd

#----------------------------- Applicant Type --------------------------------------------------
mosip.kernel.applicant.type.age.limit = 5
mosip.kernel.applicantType.mvel.file=applicanttype.mvel
mosip.kernel.config.server.file.storage.uri=${spring.cloud.config.uri}/${spring.application.name}/${spring.profiles.active}/${spring.cloud.config.label}/
#----------------------------- Static PIN --------------------------------------------------
mosip.kernel.pin.length=6

#-----------------------------TspId -----------------------------------------------
#length of the Tsp id
mosip.kernel.tspid.length=4

#-----------------------------partnerId -----------------------------------------------
#length of the partner id
mosip.kernel.partnerid.length=4

#-----------------------------TOKEN-ID Properties---------------------------------
#length of the token id
mosip.kernel.tokenid.length=36

#-----------------------------VID Properties--------------------------------------
# length of the vid
mosip.kernel.vid.length=16

# Upper bound of number of digits in sequence allowed in id. For example if
# limit is 3, then 12 is allowed but 123 is not allowed in id (in both
# ascending and descending order)
# to disable sequence limit validation assign 0 or negative value
mosip.kernel.vid.length.sequence-limit=3

# Number of digits in repeating block allowed in id. For example if limit is 2,
# then 4xxx4 is allowed but 48xxx48 is not allowed in id (x is any digit)
# to disable repeating block validation assign 0 or negative value
mosip.kernel.vid.length.repeating-block-limit=2


# Lower bound of number of digits allowed in between two repeating digits in
# id. For example if limit is 2, then 11 and 1x1 is not allowed in id (x is any digit)
# to disable repeating limit validation, assign 0  or negative value
mosip.kernel.vid.length.repeating-limit=2

# list of number that id should not be start with
# to disable null
mosip.kernel.vid.not-start-with=0,1

#restricted numbers for vid
mosip.kernel.vid.restricted-numbers=786,666

#------------------------Auth-Adapter-----------------------------------------------
auth.server.validate.url=${mosipbox.public.url}/v1/authmanager/authorize/admin/validateToken
mosip.keycloak.base-url=http://keycloak
mosip.keycloak.issuerUrl=${mosipbox.public.url}/keycloak/auth/realms/mosip
auth-token-generator.rest.issuerUrl=${mosip.keycloak.issuerUrl}


#Keygenerator asymmetric algorithm name
mosip.kernel.keygenerator.asymmetric-algorithm-name=RSA
#Keygenerator symmetric algorithm name
mosip.kernel.keygenerator.symmetric-algorithm-name=AES
#Asymmetric algorithm key length
mosip.kernel.keygenerator.asymmetric-key-length=2048
#Symmetric algorithm key length
mosip.kernel.keygenerator.symmetric-key-length=256
#GCM tag length
mosip.kernel.crypto.gcm-tag-length=128
#Hash algo name
mosip.kernel.crypto.hash-algorithm-name=PBKDF2WithHmacSHA512
#Symmtric key length used in hash
mosip.kernel.crypto.hash-symmetric-key-length=256
#No of iterations in hash
mosip.kernel.crypto.hash-iteration=100000
#Sign algo name
mosip.kernel.crypto.sign-algorithm-name=RS256

mosip.keymanager.base.url=http://kernel-keymanager-service
mosip.kernel.keymanager-service-publickey-url=${mosip.keymanager.base.url}/v1/keymanager/publickey/{applicationId}
mosip.kernel.keymanager-service-decrypt-url=${mosip.keymanager.base.url}/v1/keymanager/decrypt
mosip.kernel.keymanager-service-auth-decrypt-url=${mosip.keymanager.base.url}/v1/keymanager/auth/decrypt
mosip.kernel.keymanager-service-sign-url=${mosip.keymanager.base.url}/v1/keymanager/sign
mosip.kernel.keymanager.cert.url=${mosip.keymanager.base.url}/v1/keymanager/getCertificate
mosip.kernel.cryptomanager.request_id=CRYPTOMANAGER.REQUEST
mosip.kernel.cryptomanager.request_version=v1.0
mosip.kernel.signature.signature-request-id=SIGNATURE.REQUEST
mosip.kernel.signature.signature-version-id=v1.0



#----------------------------------ID Repo------------------------------------------
mosip.idrepo.identity.uin-status.registered=ACTIVATED
mosip.idrepo.identity.uin-status=ACTIVATED,BLOCKED,DEACTIVATED

#---------------------------------------otp manager service-------------------------------
#the default length for otp(in number)
#the default crypto function
#It can be: HmacSHA512, HmacSHA256, HmacSHA1.
mosip.kernel.otp.mac-algorithm=HmacSHA512
#the OTP expires after the given time(in seconds).
#the key is freezed for the given time(in seconds).
mosip.kernel.otp.key-freeze-time=1800
#the number of validation attempts allowed(in number).
#mosip.kernel.otp.validation-attempt-threshold =3 means , the validation and generation will be blocked from 4th time.
mosip.kernel.otp.validation-attempt-threshold=10
#minimum length of key(in number).
mosip.kernel.otp.min-key-length=3
#maximum length of key(in number).
mosip.kernel.otp.max-key-length=64
mosip.auth.adapter.impl.basepackage=io.mosip.kernel.auth.defaultadapter

#---------------- Web Sub properties -------------------------
# The base URL of dmz ingress used to point to websub service
dmz.ingress.base.url=${mosipbox.public.url}
# Websub base url
websub.base.url=${dmz.ingress.base.url}
# Websub URL for Topic Subscriptions
websub.hub.url=${websub.base.url}/websub/hub
# Websub URL for Publishing/registering topics
websub.publish.url=${websub.base.url}/websub/publish
mosip.kernel.auth.appids.realm.map={prereg:'preregistration',ida:'mosip',registrationclient:'mosip',regproc:'mosip',partner:'mosip',resident:'mosip',admin:'mosip',crereq:'mosip',creser:'mosip',datsha:'mosip'}
# URL to get new Auth Token from OIDC provider & to do online validation of auth token with OIDC provider.
auth.server.admin.issuer.uri=${mosipbox.public.url}/keycloak/auth/realms/

#Endpoints to access without authentication
mosip.service-context=${server.servlet.context-path}
mosip.service.end-points=/**/*
mosip.service.exclude.auth.allowed.method=GET,POST
ida-websub-masterdata-templates-callback-relative-url=
ida-websub-masterdata-titles-callback-relative-url=
ida-websub-ca-cert-callback-relative-url=

# Limit the number of async threads created in IDRepo services. This count is divided into 4 thread groups configured in IdRepoConfig.class
mosip.ida.active-async-thread-count=100

# Logging of thread queue done based on below value in ms. Logging is done only if queue value of any one thread group crosses below specified threshold.
mosip.ida.monitor-thread-queue-in-ms=600000
mosip.ida.max-thread-queue-threshold=100